{
    "type": "log",
    "enabled": true,
    "name": "device_availability_telemetry",
    "schedule": {
        "minutes": 15
    },
    "data": {
        "stream": "rdaf_telegraf_metrics",
        "groupby": [
            "i_agent_host",
            "m_device_availability",
            "i_projectid"
        ],
        "query": "(name == 'device_availability') and i_input == 'PING'"
    },
    "actions": [
        {
            "state": "OPEN",
            "extra_query": "m_device_availability is 'Down'",
            "attributes": {
                "severity": "CRITICAL",
                "metric_name": "device_availability",
                "metric_value_field": "m_device_availability"
            },
            "notification": [
                {
                    "channel": "telegraf_telemetry_metrics"
                }
            ]
        },
        {
            "state": "CLEAR",
            "extra_query": "m_device_availability is 'UP'",
            "attributes": {
                "severity": "INFO",
                "metric_name": "device_availability",
                "metric_value_field": "m_device_availability"
            },
            "notification": [
                {
                    "channel": "telegraf_telemetry_metrics"
                }
            ]
        }
    ],
    "saved_time": "2025-08-19T12:58:14.216099"
}