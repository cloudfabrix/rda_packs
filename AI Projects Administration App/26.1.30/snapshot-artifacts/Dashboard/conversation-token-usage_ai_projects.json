{
  "name": "conversation-token-usage_ai_projects",
  "label": "Monitor Conversations",
  "description": "Token Usage: Insights",
  "dashboard_folder": "AI",
  "version": "1.0.1",
  "enabled": false,
  "stream": "rda_chat_sessions",
  "dashboard_type": "template",
  "live_edit": true,
  "template_variables": {
      "ai_project_name": {
          "contextId": "ai_project_name"
      }
  },
  "dashboard_filters": {
      "time_filter": true,
      "default_time_filter_labels": [
          "All Time"
      ],
      "columns_filter": [
          {
              "id": "timestamp",
              "label": "Timestamp",
              "type": "DATETIME"
          },
          {
              "id": "USER_ID",
              "label": "User Id",
              "type": "TEXT"
          },
          {
              "id": "context_USER_ID",
              "label": "Context User Id",
              "type": "TEXT"
          },
          {
              "id": "context_USER_ROLE",
              "label": "Context User Role",
              "type": "TEXT"
          },
          {
              "id": "context_approver_userid",
              "label": "Context Approver Userid",
              "type": "TEXT"
          },
          {
              "id": "context_incidentid",
              "label": "Context Incidentid",
              "type": "TEXT"
          },
          {
              "id": "conversationId",
              "label": "Conversationid",
              "type": "TEXT"
          },
          {
              "id": "conversationLabel",
              "label": "Conversationlabel",
              "type": "TEXT"
          },
          {
              "id": "isToolCall",
              "label": "Istoolcall",
              "type": "TEXT"
          },
          {
              "id": "llm",
              "label": "Llm",
              "type": "TEXT"
          },
          {
              "id": "llm_name",
              "label": "Llm Name",
              "type": "TEXT"
          },
          {
              "id": "message",
              "label": "Message",
              "type": "TEXT"
          },
          {
              "id": "persona",
              "label": "Persona",
              "type": "TEXT"
          },
          {
              "id": "prompt_id",
              "label": "Prompt Id",
              "type": "TEXT"
          },
          {
              "id": "request_status",
              "label": "Request Status",
              "type": "TEXT"
          },
          {
              "id": "request_subtype",
              "label": "Request Subtype",
              "type": "TEXT"
          },
          {
              "id": "request_type",
              "label": "Request Type",
              "type": "TEXT"
          },
          {
              "id": "severity",
              "label": "Severity",
              "type": "TEXT"
          },
          {
              "id": "tool_content",
              "label": "Tool Content",
              "type": "TEXT"
          },
          {
              "id": "tool_domain",
              "label": "Tool Domain",
              "type": "TEXT"
          },
          {
              "id": "tool_name",
              "label": "Tool Name",
              "type": "TEXT"
          },
          {
              "id": "tool_status",
              "label": "Tool Status",
              "type": "TEXT"
          },
          {
              "id": "type",
              "label": "Type",
              "type": "TEXT"
          },
          {
              "id": "token_usage_cache_tokens",
              "label": "Token Usage Cache Tokens",
              "type": "DOUBLE"
          },
          {
              "id": "token_usage_input_tokens",
              "label": "Token Usage Input Tokens",
              "type": "DOUBLE"
          },
          {
              "id": "token_usage_output_tokens",
              "label": "Token Usage Output Tokens",
              "type": "DOUBLE"
          },
          {
              "id": "token_usage_reasoning_tokens",
              "label": "Token Usage Reasoning Tokens",
              "type": "DOUBLE"
          },
          {
              "id": "token_usage_total_tokens",
              "label": "Token Usage Total Tokens",
              "type": "DOUBLE"
          }
      ],
      "group_filters": [
          {
              "stream": "rda_chat_sessions",
              "title": "AI Project",
              "duration_hours": 1080,
              "limit": 200,
              "extra_filter": "ai_project_name is not empty",
              "group_by": [
                  "ai_project_name"
              ],
              "ts_column": "timestamp",
              "agg": "sum",
              "column": "count_",
              "type": "int"
          },
          {
              "stream": "rda_chat_sessions",
              "title": "LLM",
              "duration_hours": 1080,
              "limit": 200,
              "extra_filter": "type == 'client'",
              "group_by": [
                  "llm"
              ],
              "ts_column": "timestamp",
              "agg": "sum",
              "column": "count_",
              "type": "int"
          },
          {
              "stream": "rda_chat_sessions",
              "title": "User",
              "duration_hours": 1080,
              "limit": 200,
              "extra_filter": "type == 'client'",
              "group_by": [
                  "USER_ID"
              ],
              "ts_column": "timestamp",
              "agg": "sum",
              "column": "count_",
              "type": "int"
          },
          {
              "stream": "rda_chat_sessions",
              "title": "Persona",
              "duration_hours": 1080,
              "limit": 200,
              "extra_filter": "type == 'client'",
              "group_by": [
                  "persona"
              ],
              "ts_column": "timestamp",
              "agg": "sum",
              "column": "count_",
              "type": "int"
          }
      ]
  },
  "dashboard_sections": [
      {
          "title": "Monitor Token Usage",
          "show_filter": true,
          "widgets": [
              {
                  "widget_type_!!!": "label",
                  "height": 2,
                  "min_width": 12,
                  "label": "<div style='width: 100%; height: 100%; color: light-dark(#ffffff, #000000); background-color: light-dark(#000000, #ffffff);'>Hello World</div>",
                  "widget_id": "07729d0f"
              },
              {
                  "title": "Fabaio",
                  "widget_type": "tabular",
                  "duration_hours": 1080,
                  "widget_group": "G0",
                  "max_width": 12,
                  "height": 8,
                  "min_width": 12,
                  "stream": "rda_chat_sessions",
                  "ts_column": "timestamp",
                  "extra_filter": "request_type is 'Copilot'",
                  "columns": {
                      "USER_ID": {
                          "title": "User",
                          "type": "TEXT",
                          "hidden": false
                      },
                      "llm": {
                          "title": "LLM",
                          "type": "TEXT",
                          "hidden": false
                      },
                      "persona": {
                          "title": "Persona",
                          "type": "TEXT",
                          "hidden": false
                      },
                      "ai_project_name": {
                          "title": "Project",
                          "type": "TEXT",
                          "hidden": false
                      }
                  },
                  "pivot": {
                      "pivot_type": "advanced",
                      "group_by": [
                          "USER_ID",
                          "llm",
                          "persona",
                          "ai_project_name"
                      ],
                      "series": [
                          {
                              "column": "token_usage_input_tokens",
                              "agg": "avg",
                              "type": "int",
                              "label": "Input Tokens"
                          },
                          {
                              "column": "token_usage_output_tokens",
                              "agg": "avg",
                              "type": "int",
                              "label": "Output Tokens"
                          },
                          {
                              "column": "token_usage_cache_tokens",
                              "agg": "avg",
                              "type": "int",
                              "label": "Cache Tokens"
                          }
                      ]
                  },
                  "widget_id": "3c025874"
              },
              {
                  "title": "Agents",
                  "widget_type": "tabular",
                  "duration_hours": 1080,
                  "widget_group": "G0",
                  "max_width": 12,
                  "height": 8,
                  "min_width": 12,
                  "stream": "rda_chat_sessions",
                  "ts_column": "timestamp",
                  "extra_filter": "request_type is 'Agent' and ai_project_name is not empty",
                  "columns": {
                      "USER_ID": {
                          "title": "User",
                          "type": "TEXT",
                          "hidden": false
                      },
                      "llm": {
                          "title": "LLM",
                          "type": "TEXT",
                          "hidden": false
                      },
                      "persona": {
                          "title": "Persona",
                          "type": "TEXT",
                          "hidden": false
                      },
                      "ai_project_name": {
                          "title": "Project",
                          "type": "TEXT",
                          "hidden": false
                      }
                  },
                  "pivot": {
                      "pivot_type": "advanced",
                      "group_by": [
                          "USER_ID",
                          "llm",
                          "persona"
                      ],
                      "series": [
                          {
                              "column": "token_usage_input_tokens",
                              "agg": "avg",
                              "type": "int",
                              "label": "Input Tokens"
                          },
                          {
                              "column": "token_usage_output_tokens",
                              "agg": "avg",
                              "type": "int",
                              "label": "Output Tokens"
                          },
                          {
                              "column": "token_usage_cache_tokens",
                              "agg": "avg",
                              "type": "int",
                              "label": "Cache Tokens"
                          }
                      ]
                  },
                  "widget_id": "79e90e3e"
              }
          ]
      }
  ],
  "saved_time": "2025-10-17T06:49:12.852825"
}