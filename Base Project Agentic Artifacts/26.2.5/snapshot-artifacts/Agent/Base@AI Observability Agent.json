{
  "flowName": "AI Observability Agent",
  "flowDesc": "",
  "flowData": {
    "nodes": [
      {
        "id": "start",
        "type": "start",
        "initialized": false,
        "position": {
          "x": 195,
          "y": 30
        },
        "data": {
          "name": "start",
          "label": "Start",
          "input_ports": [],
          "output_ports": [
            {
              "id": "start",
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "config_schema": {
                "model": {},
                "uiSchema": {}
              },
              "connection_restrictions": [],
              "connected_to": [
                "cfx-d2884459-23b3-4f1a-ca8c-83a4f4f38e01"
              ]
            }
          ]
        },
        "deletable": false,
        "label": "Start"
      },
      {
        "id": "cfx-d2884459-23b3-4f1a-ca8c-83a4f4f38e01",
        "type": "wtask",
        "initialized": false,
        "position": {
          "x": 225,
          "y": 90
        },
        "data": {
          "name": "agent_with_mcp",
          "label": "AI Observability (LLM)",
          "main": "agentic_AI_nodes.agent_tasks.ProcessMCPPrompt",
          "input_document_count": 0,
          "parameter_model": {
            "type": "object",
            "properties": {
              "llm_credential": {
                "type": "string"
              },
              "persona": {
                "type": "string",
                "enum": [
                  "Admin",
                  "Service Desk",
                  "Service Delivery",
                  "Technology Providers",
                  "Service Integration & Management",
                  "Support Operations",
                  "Security Ops"
                ]
              },
              "prompt": {
                "type": "string"
              },
              "output_attribute_name": {
                "type": "string"
              },
              "server_token": {
                "type": "string"
              }
            },
            "required": [
              "llm_credential",
              "persona",
              "prompt"
            ]
          },
          "ui_schema": {
            "elements": [
              {
                "type": "Control",
                "scope": "#/properties/llm_credential"
              },
              {
                "type": "Control",
                "scope": "#/properties/persona"
              },
              {
                "type": "Control",
                "scope": "#/properties/prompt",
                "options": {
                  "multi": true
                }
              },
              {
                "type": "Control",
                "scope": "#/properties/output_attribute_name"
              },
              {
                "type": "Control",
                "scope": "#/properties/server_token"
              }
            ]
          },
          "category": "Agentic AI Nodes",
          "icon": "/assets/img/icons/logoRda.png",
          "input_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "input_1"
            }
          ],
          "output_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "output_1",
              "isGlobalVariableMapped": true,
              "globalVariableName": "agent_output",
              "connected_to": [
                "cfx-11ee5059-f922-4996-d7b1-89e59e7dd7a8"
              ]
            }
          ],
          "formData": {
            "llm_credential": "claude-sonnet-4",
            "output_attribute_name": "anomaly_output",
            "globalVarMap": {
              "server_token": "Server_Token",
              "output_attribute_name": "agent_output"
            },
            "summarize": false,
            "prompt": "Create Ai Observability Dashboard\n[IMPORTANT] all the widgets should be scrollable and you are allowed to add some more charts on basis of collection of data to make analysis more understanding.\n\nColor Theme forr Output HTML  (use CSS function light-dark)\n-  Regular Text foreground: color:light-dark(#000000, #FFFFFF)\n - Regular  background-color:  light-dark(#FFFFFF, #000000)",
            "persona": "AI Observability"
          }
        },
        "label": "AI Observability (LLM)",
        "sourcePosition": "right",
        "targetPosition": "left"
      },
      {
        "id": "cfx-11ee5059-f922-4996-d7b1-89e59e7dd7a8",
        "type": "wtask",
        "initialized": false,
        "position": {
          "x": 255,
          "y": 180
        },
        "data": {
          "name": "write_data_to_pstream",
          "label": "Save Agent Output",
          "main": "common_tasks.data_readwrite_tasks.WriteDataToPStream",
          "input_document_count": 0,
          "parameter_model": {
            "type": "object",
            "properties": {
              "pstream_name": {
                "type": "string"
              },
              "data": {
                "type": "array",
                "items": {
                  "type": "object"
                }
              },
              "validate_data_model": {
                "type": "boolean",
                "default": false
              }
            },
            "required": [
              "pstream_name"
            ]
          },
          "ui_schema": {
            "type": "VerticalLayout",
            "elements": [
              {
                "type": "Control",
                "scope": "#/properties/pstream_name"
              },
              {
                "type": "Control",
                "scope": "#/properties/data"
              },
              {
                "type": "Control",
                "scope": "#/properties/validate_data_model"
              }
            ]
          },
          "category": "Common Tasks",
          "icon": "/assets/img/icons/logoRda.png",
          "input_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "input_1"
            }
          ],
          "output_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "output_1",
              "connected_to": [
                "cfx-232fe369-73e0-44e5-ad01-6f790911fb37"
              ]
            }
          ],
          "formData": {
            "validate_data_model": false,
            "pstream_name": "agent_output_stream",
            "globalVarMap": {
              "data": "agent_output"
            }
          }
        },
        "label": "Save Agent Output",
        "sourcePosition": "right",
        "targetPosition": "left"
      },
      {
        "id": "cfx-232fe369-73e0-44e5-ad01-6f790911fb37",
        "type": "wtask",
        "initialized": false,
        "position": {
          "x": 300,
          "y": 300
        },
        "data": {
          "name": "agent_with_mcp",
          "label": "Evaluation Agent",
          "main": "agentic_ai_nodes.agent_tasks.ProcessMCPPrompt",
          "input_document_count": 0,
          "parameter_model": {
            "type": "object",
            "properties": {
              "llm_credential": {
                "type": "string"
              },
              "persona": {
                "type": "string"
              },
              "prompt": {
                "type": "string"
              },
              "prompt_template": {
                "type": "string"
              },
              "output_attribute_name": {
                "type": "string"
              },
              "server_token": {
                "type": "string"
              },
              "summarize": {
                "type": "boolean",
                "default": false
              }
            },
            "required": [
              "llm_credential",
              "persona",
              "prompt"
            ]
          },
          "ui_schema": {
            "elements": [
              {
                "type": "Control",
                "scope": "#/properties/llm_credential"
              },
              {
                "type": "Control",
                "scope": "#/properties/persona"
              },
              {
                "type": "Control",
                "scope": "#/properties/prompt",
                "options": {
                  "multi": true
                }
              },
              {
                "type": "Control",
                "scope": "#/properties/prompt_template"
              },
              {
                "type": "Control",
                "scope": "#/properties/output_attribute_name"
              },
              {
                "type": "Control",
                "scope": "#/properties/server_token"
              },
              {
                "type": "Control",
                "scope": "#/properties/summarize"
              }
            ]
          },
          "category": "Agentic AI Nodes",
          "icon": "/assets/img/icons/logoRda.png",
          "input_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "input_1"
            }
          ],
          "output_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "output_1",
              "isGlobalVariableMapped": true,
              "globalVariableName": "evaluation_output",
              "connected_to": [
                "cfx-509e8ba2-6e54-475b-c415-161a662bd3f8"
              ]
            }
          ],
          "formData": {
            "summarize": false,
            "prompt": "You are an evaluation agent. Given the output from an Asset Health agent in the variable {{agent_output}}, determine whether the Asset Health agent was successfully executed. **Do not analyze or interpret** the Asset Health agent results. Only check for evidence that the agent ran to completion.\n\nRespond in a single JSON line with this format only, without extra information or comments:\n\n{\"agent_run\": \"Success\"} \n\nor\n\n{\"agent_run\": \"Failure\"}\n\nUse \"Failure\" if the output is empty, incomplete, or contains signs of execution errors or failures.",
            "globalVarMap": {
              "output_attribute_name": "evaluation_output",
              "server_token": "Server_Token"
            },
            "llm_credential": "gpt-4.1",
            "persona": "AI Observability"
          }
        },
        "label": "Evaluation Agent",
        "sourcePosition": "right",
        "targetPosition": "left"
      },
      {
        "id": "cfx-509e8ba2-6e54-475b-c415-161a662bd3f8",
        "type": "wtask",
        "initialized": false,
        "position": {
          "x": 345,
          "y": 405
        },
        "data": {
          "name": "write_data_to_pstream",
          "label": "Save Evaluation Output",
          "main": "common_tasks.data_readwrite_tasks.WriteDataToPStream",
          "input_document_count": 0,
          "icon": "/assets/img/icons/blue_outline/query_pstream.png",
          "parameter_model": {
            "type": "object",
            "properties": {
              "pstream_name": {
                "type": "string"
              },
              "data": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "inputs": {
                      "type": "string",
                      "description": "Input column for pstream"
                    }
                  }
                }
              },
              "validate_data_model": {
                "type": "boolean",
                "default": false
              }
            },
            "required": [
              "pstream_name"
            ]
          },
          "ui_schema": {
            "type": "VerticalLayout",
            "elements": [
              {
                "type": "Control",
                "scope": "#/properties/pstream_name"
              },
              {
                "type": "Control",
                "scope": "#/properties/data"
              },
              {
                "type": "Control",
                "scope": "#/properties/validate_data_model"
              }
            ]
          },
          "category": "Common Tasks",
          "input_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "input_1"
            }
          ],
          "output_ports": [
            {
              "label": "",
              "min_connections": 1,
              "max_connections": 1,
              "id": "output_1"
            }
          ],
          "formData": {
            "validate_data_model": false,
            "pstream_name": "agent_output_stream",
            "data": [
              {}
            ],
            "globalVarMap": {
              "data": "evaluation_output"
            }
          }
        },
        "label": "Save Evaluation Output",
        "sourcePosition": "right",
        "targetPosition": "left"
      }
    ],
    "edges": [
      {
        "id": "vueflow__edge-startstart-cfx-d2884459-23b3-4f1a-ca8c-83a4f4f38e01input_1",
        "type": "default",
        "source": "start",
        "target": "cfx-d2884459-23b3-4f1a-ca8c-83a4f4f38e01",
        "sourceHandle": "start",
        "targetHandle": "input_1",
        "data": {
          "sourceLabel": "Start",
          "targetLabel": "Agent with MCP"
        },
        "label": "",
        "sourceX": 262.4998448766056,
        "sourceY": 62.59994550740541,
        "targetX": 292.9998091985558,
        "targetY": 87.0000072150416
      },
      {
        "id": "vueflow__edge-cfx-d2884459-23b3-4f1a-ca8c-83a4f4f38e01output_1-cfx-11ee5059-f922-4996-d7b1-89e59e7dd7a8input_1",
        "type": "default",
        "source": "cfx-d2884459-23b3-4f1a-ca8c-83a4f4f38e01",
        "target": "cfx-11ee5059-f922-4996-d7b1-89e59e7dd7a8",
        "sourceHandle": "output_1",
        "targetHandle": "input_1",
        "data": {
          "sourceLabel": "Detect Anomalies (LLM)",
          "targetLabel": "Save Agent Output"
        },
        "label": "",
        "sourceX": 292.9998091985558,
        "sourceY": 168.99987183785908,
        "targetX": 322.99991262518427,
        "targetY": 177.0000072150416
      },
      {
        "id": "vueflow__edge-cfx-11ee5059-f922-4996-d7b1-89e59e7dd7a8output_1-cfx-232fe369-73e0-44e5-ad01-6f790911fb37input_1",
        "type": "default",
        "source": "cfx-11ee5059-f922-4996-d7b1-89e59e7dd7a8",
        "target": "cfx-232fe369-73e0-44e5-ad01-6f790911fb37",
        "sourceHandle": "output_1",
        "targetHandle": "input_1",
        "data": {
          "sourceLabel": "Save Agent Output",
          "targetLabel": "Agent with MCP"
        },
        "label": "",
        "sourceX": 322.99991262518427,
        "sourceY": 258.99983305287344,
        "targetX": 367.99991262518427,
        "targetY": 297.0000072150416
      },
      {
        "id": "vueflow__edge-cfx-232fe369-73e0-44e5-ad01-6f790911fb37output_1-cfx-509e8ba2-6e54-475b-c415-161a662bd3f8input_1",
        "type": "default",
        "source": "cfx-232fe369-73e0-44e5-ad01-6f790911fb37",
        "target": "cfx-509e8ba2-6e54-475b-c415-161a662bd3f8",
        "sourceHandle": "output_1",
        "targetHandle": "input_1",
        "data": {
          "sourceLabel": "Evaluation Agent",
          "targetLabel": "Write Data to PStream"
        },
        "label": "",
        "sourceX": 367.99991262518427,
        "sourceY": 378.99991062284477,
        "targetX": 412.99986091187003,
        "targetY": 402.0000072150416
      }
    ],
    "position": [
      175.36087267525068,
      5.425913187226399
    ],
    "zoom": 1.1802575107296136,
    "viewport": {
      "x": 175.36087267525068,
      "y": 5.425913187226399,
      "zoom": 1.1802575107296136
    },
    "globalVariables": {
      "variables": [
        {
          "name": "IP_Address",
          "value_type": "string",
          "runtime_input": false
        },
        {
          "name": "Server_Token",
          "value_type": "string",
          "runtime_input": false,
          "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyLWlkIjoic2hydXRpa2FAZmFicml4LmFpIiwid29ya3NwYWNlaWQiOiI4YjYyYTQ3Mi05OGYzLTRjNjQtYjkxNC1mZDA2ZGNmYzEyMDkiLCJyZGFjX2FwaV9lbmRwb2ludCI6Imh0dHA6Ly8xMC45NS4xMDcuNzE6ODgwOCJ9.m-f3dSDHofhMfT-5G6qKBnhcUybH_b-XjlRYIU6Uzl8"
        },
        {
          "name": "anomaly_output",
          "value_type": "array"
        },
        {
          "name": "data_duration",
          "value_type": "string",
          "runtime_input": false
        },
        {
          "name": "data_type",
          "value_type": "string",
          "runtime_input": false
        },
        {
          "name": "agent_run",
          "value_type": "array"
        },
        {
          "name": "agent_output",
          "value_type": "array"
        },
        {
          "name": "evaluation_output",
          "value_type": "array"
        },
        {
          "name": "metric_name",
          "runtime_input": false,
          "value_type": "string"
        },
        {
          "runtime_input": false,
          "name": "agent_evaluation",
          "value_type": "string"
        }
      ]
    }
  },
  "ai_project_name": "Base",
  "flow_type": "agent"
}